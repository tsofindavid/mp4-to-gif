{"ast":null,"code":"import { Block } from '../../abstract/Block.js';\nconst CSS_ATTRIBUTE = 'css-src';\nexport class ShadowWrapper extends Block {\n  pauseRender = true;\n  shadowReadyCallback() {}\n  initCallback() {\n    super.initCallback();\n    this.setAttribute('hidden', '');\n    let href = this.getAttribute(CSS_ATTRIBUTE);\n    if (href) {\n      this.renderShadow = true;\n      this.attachShadow({\n        mode: 'open'\n      });\n      let link = document.createElement('link');\n      link.rel = 'stylesheet';\n      link.type = 'text/css';\n      link.href = href;\n      link.onload = () => {\n        // CSS modules can be not loaded at this moment\n        // TODO: investigate better solution\n        window.requestAnimationFrame(() => {\n          this.render();\n          window.setTimeout(() => {\n            this.removeAttribute('hidden');\n            this.shadowReadyCallback();\n          });\n        });\n      };\n      this.shadowRoot.prepend(link);\n    } else {\n      this.render();\n      this.removeAttribute('hidden');\n      this.shadowReadyCallback();\n    }\n  }\n}","map":{"version":3,"names":["Block","CSS_ATTRIBUTE","ShadowWrapper","pauseRender","shadowReadyCallback","initCallback","setAttribute","href","getAttribute","renderShadow","attachShadow","mode","link","document","createElement","rel","type","onload","window","requestAnimationFrame","render","setTimeout","removeAttribute","shadowRoot","prepend"],"sources":["/Users/David/Documents/own_projects/mp4-to-gif/node_modules/@uploadcare/blocks/blocks/ShadowWrapper/ShadowWrapper.js"],"sourcesContent":["import { Block } from '../../abstract/Block.js';\n\nconst CSS_ATTRIBUTE = 'css-src';\n\nexport class ShadowWrapper extends Block {\n  pauseRender = true;\n\n  shadowReadyCallback() {}\n\n  initCallback() {\n    super.initCallback();\n    this.setAttribute('hidden', '');\n    let href = this.getAttribute(CSS_ATTRIBUTE);\n    if (href) {\n      this.renderShadow = true;\n      this.attachShadow({\n        mode: 'open',\n      });\n      let link = document.createElement('link');\n      link.rel = 'stylesheet';\n      link.type = 'text/css';\n      link.href = href;\n      link.onload = () => {\n        // CSS modules can be not loaded at this moment\n        // TODO: investigate better solution\n        window.requestAnimationFrame(() => {\n          this.render();\n          window.setTimeout(() => {\n            this.removeAttribute('hidden');\n            this.shadowReadyCallback();\n          });\n        });\n      };\n      this.shadowRoot.prepend(link);\n    } else {\n      this.render();\n      this.removeAttribute('hidden');\n      this.shadowReadyCallback();\n    }\n  }\n}\n"],"mappings":"AAAA,SAASA,KAAK,QAAQ,yBAAyB;AAE/C,MAAMC,aAAa,GAAG,SAAS;AAE/B,OAAO,MAAMC,aAAa,SAASF,KAAK,CAAC;EACvCG,WAAW,GAAG,IAAI;EAElBC,mBAAmBA,CAAA,EAAG,CAAC;EAEvBC,YAAYA,CAAA,EAAG;IACb,KAAK,CAACA,YAAY,CAAC,CAAC;IACpB,IAAI,CAACC,YAAY,CAAC,QAAQ,EAAE,EAAE,CAAC;IAC/B,IAAIC,IAAI,GAAG,IAAI,CAACC,YAAY,CAACP,aAAa,CAAC;IAC3C,IAAIM,IAAI,EAAE;MACR,IAAI,CAACE,YAAY,GAAG,IAAI;MACxB,IAAI,CAACC,YAAY,CAAC;QAChBC,IAAI,EAAE;MACR,CAAC,CAAC;MACF,IAAIC,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;MACzCF,IAAI,CAACG,GAAG,GAAG,YAAY;MACvBH,IAAI,CAACI,IAAI,GAAG,UAAU;MACtBJ,IAAI,CAACL,IAAI,GAAGA,IAAI;MAChBK,IAAI,CAACK,MAAM,GAAG,MAAM;QAClB;QACA;QACAC,MAAM,CAACC,qBAAqB,CAAC,MAAM;UACjC,IAAI,CAACC,MAAM,CAAC,CAAC;UACbF,MAAM,CAACG,UAAU,CAAC,MAAM;YACtB,IAAI,CAACC,eAAe,CAAC,QAAQ,CAAC;YAC9B,IAAI,CAAClB,mBAAmB,CAAC,CAAC;UAC5B,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ,CAAC;MACD,IAAI,CAACmB,UAAU,CAACC,OAAO,CAACZ,IAAI,CAAC;IAC/B,CAAC,MAAM;MACL,IAAI,CAACQ,MAAM,CAAC,CAAC;MACb,IAAI,CAACE,eAAe,CAAC,QAAQ,CAAC;MAC9B,IAAI,CAAClB,mBAAmB,CAAC,CAAC;IAC5B;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { createCdnUrl, createCdnUrlModifiers } from '../../../utils/cdn-utils.js';\nimport { COMMON_OPERATIONS, transformationsToOperations } from './lib/transformationUtils.js';\nexport function viewerImageSrc(originalUrl, width, transformations) {\n  const MAX_CDN_DIMENSION = 3000;\n  let dpr = window.devicePixelRatio;\n  let size = Math.min(Math.ceil(width * dpr), MAX_CDN_DIMENSION);\n  let quality = dpr >= 2 ? 'lightest' : 'normal';\n  return createCdnUrl(originalUrl, createCdnUrlModifiers(COMMON_OPERATIONS, transformationsToOperations(transformations), `quality/${quality}`, `stretch/off/-/resize/${size}x`));\n}","map":{"version":3,"names":["createCdnUrl","createCdnUrlModifiers","COMMON_OPERATIONS","transformationsToOperations","viewerImageSrc","originalUrl","width","transformations","MAX_CDN_DIMENSION","dpr","window","devicePixelRatio","size","Math","min","ceil","quality"],"sources":["/Users/David/Documents/own_projects/mp4-to-gif/node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/util.js"],"sourcesContent":["import { createCdnUrl, createCdnUrlModifiers } from '../../../utils/cdn-utils.js';\nimport { COMMON_OPERATIONS, transformationsToOperations } from './lib/transformationUtils.js';\n\nexport function viewerImageSrc(originalUrl, width, transformations) {\n  const MAX_CDN_DIMENSION = 3000;\n  let dpr = window.devicePixelRatio;\n  let size = Math.min(Math.ceil(width * dpr), MAX_CDN_DIMENSION);\n  let quality = dpr >= 2 ? 'lightest' : 'normal';\n\n  return createCdnUrl(\n    originalUrl,\n    createCdnUrlModifiers(\n      COMMON_OPERATIONS,\n      transformationsToOperations(transformations),\n      `quality/${quality}`,\n      `stretch/off/-/resize/${size}x`\n    )\n  );\n}\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,qBAAqB,QAAQ,6BAA6B;AACjF,SAASC,iBAAiB,EAAEC,2BAA2B,QAAQ,8BAA8B;AAE7F,OAAO,SAASC,cAAcA,CAACC,WAAW,EAAEC,KAAK,EAAEC,eAAe,EAAE;EAClE,MAAMC,iBAAiB,GAAG,IAAI;EAC9B,IAAIC,GAAG,GAAGC,MAAM,CAACC,gBAAgB;EACjC,IAAIC,IAAI,GAAGC,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,IAAI,CAACT,KAAK,GAAGG,GAAG,CAAC,EAAED,iBAAiB,CAAC;EAC9D,IAAIQ,OAAO,GAAGP,GAAG,IAAI,CAAC,GAAG,UAAU,GAAG,QAAQ;EAE9C,OAAOT,YAAY,CACjBK,WAAW,EACXJ,qBAAqB,CACnBC,iBAAiB,EACjBC,2BAA2B,CAACI,eAAe,CAAC,EAC3C,WAAUS,OAAQ,EAAC,EACnB,wBAAuBJ,IAAK,GAC/B,CACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
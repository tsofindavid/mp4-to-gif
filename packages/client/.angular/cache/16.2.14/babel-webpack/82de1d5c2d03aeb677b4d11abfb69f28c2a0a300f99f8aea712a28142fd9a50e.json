{"ast":null,"code":"import { applyClassNames } from '../../lib/classNames.js';\nimport { Block } from '../../../../../abstract/Block.js';\n\n/**\n * @typedef {Object} Style\n * @property {String} [transition]\n * @property {String} [visible]\n * @property {String} [hidden]\n */\n\n/** @type {Style} */\nconst DEFAULT_STYLE = {\n  transition: 'transition',\n  visible: 'visible',\n  hidden: 'hidden'\n};\nexport class PresenceToggle extends Block {\n  constructor() {\n    super();\n    this._visible = false;\n    this._visibleStyle = DEFAULT_STYLE.visible;\n    this._hiddenStyle = DEFAULT_STYLE.hidden;\n    this._externalTransitions = false;\n    this.defineAccessor('styles', styles => {\n      if (!styles) {\n        return;\n      }\n      this._externalTransitions = true;\n      this._visibleStyle = styles.visible;\n      this._hiddenStyle = styles.hidden;\n    });\n    this.defineAccessor('visible', visible => {\n      if (typeof visible !== 'boolean') {\n        return;\n      }\n      this._visible = visible;\n      this._handleVisible();\n    });\n  }\n  _handleVisible() {\n    this.style.visibility = this._visible ? 'inherit' : 'hidden';\n    applyClassNames(this, {\n      [DEFAULT_STYLE.transition]: !this._externalTransitions,\n      [this._visibleStyle]: this._visible,\n      [this._hiddenStyle]: !this._visible\n    });\n    this.setAttribute('aria-hidden', this._visible ? 'false' : 'true');\n  }\n  initCallback() {\n    super.initCallback();\n    this.setAttribute('hidden', '');\n    if (!this._externalTransitions) {\n      this.classList.add(DEFAULT_STYLE.transition);\n    }\n    this._handleVisible();\n    setTimeout(() => this.removeAttribute('hidden'), 0);\n  }\n}\nPresenceToggle.template = /* HTML */` <slot></slot> `;","map":{"version":3,"names":["applyClassNames","Block","DEFAULT_STYLE","transition","visible","hidden","PresenceToggle","constructor","_visible","_visibleStyle","_hiddenStyle","_externalTransitions","defineAccessor","styles","_handleVisible","style","visibility","setAttribute","initCallback","classList","add","setTimeout","removeAttribute","template"],"sources":["/Users/David/Documents/own_projects/mp4-to-gif/node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/elements/presence-toggle/PresenceToggle.js"],"sourcesContent":["import { applyClassNames } from '../../lib/classNames.js';\nimport { Block } from '../../../../../abstract/Block.js';\n\n/**\n * @typedef {Object} Style\n * @property {String} [transition]\n * @property {String} [visible]\n * @property {String} [hidden]\n */\n\n/** @type {Style} */\nconst DEFAULT_STYLE = {\n  transition: 'transition',\n  visible: 'visible',\n  hidden: 'hidden',\n};\n\nexport class PresenceToggle extends Block {\n  constructor() {\n    super();\n\n    this._visible = false;\n    this._visibleStyle = DEFAULT_STYLE.visible;\n    this._hiddenStyle = DEFAULT_STYLE.hidden;\n    this._externalTransitions = false;\n\n    this.defineAccessor('styles', (styles) => {\n      if (!styles) {\n        return;\n      }\n      this._externalTransitions = true;\n      this._visibleStyle = styles.visible;\n      this._hiddenStyle = styles.hidden;\n    });\n\n    this.defineAccessor('visible', (visible) => {\n      if (typeof visible !== 'boolean') {\n        return;\n      }\n\n      this._visible = visible;\n      this._handleVisible();\n    });\n  }\n\n  _handleVisible() {\n    this.style.visibility = this._visible ? 'inherit' : 'hidden';\n    applyClassNames(this, {\n      [DEFAULT_STYLE.transition]: !this._externalTransitions,\n      [this._visibleStyle]: this._visible,\n      [this._hiddenStyle]: !this._visible,\n    });\n    this.setAttribute('aria-hidden', this._visible ? 'false' : 'true');\n  }\n\n  initCallback() {\n    super.initCallback();\n    this.setAttribute('hidden', '');\n\n    if (!this._externalTransitions) {\n      this.classList.add(DEFAULT_STYLE.transition);\n    }\n\n    this._handleVisible();\n    setTimeout(() => this.removeAttribute('hidden'), 0);\n  }\n}\nPresenceToggle.template = /* HTML */ ` <slot></slot> `;\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,yBAAyB;AACzD,SAASC,KAAK,QAAQ,kCAAkC;;AAExD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAMC,aAAa,GAAG;EACpBC,UAAU,EAAE,YAAY;EACxBC,OAAO,EAAE,SAAS;EAClBC,MAAM,EAAE;AACV,CAAC;AAED,OAAO,MAAMC,cAAc,SAASL,KAAK,CAAC;EACxCM,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,CAAC;IAEP,IAAI,CAACC,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACC,aAAa,GAAGP,aAAa,CAACE,OAAO;IAC1C,IAAI,CAACM,YAAY,GAAGR,aAAa,CAACG,MAAM;IACxC,IAAI,CAACM,oBAAoB,GAAG,KAAK;IAEjC,IAAI,CAACC,cAAc,CAAC,QAAQ,EAAGC,MAAM,IAAK;MACxC,IAAI,CAACA,MAAM,EAAE;QACX;MACF;MACA,IAAI,CAACF,oBAAoB,GAAG,IAAI;MAChC,IAAI,CAACF,aAAa,GAAGI,MAAM,CAACT,OAAO;MACnC,IAAI,CAACM,YAAY,GAAGG,MAAM,CAACR,MAAM;IACnC,CAAC,CAAC;IAEF,IAAI,CAACO,cAAc,CAAC,SAAS,EAAGR,OAAO,IAAK;MAC1C,IAAI,OAAOA,OAAO,KAAK,SAAS,EAAE;QAChC;MACF;MAEA,IAAI,CAACI,QAAQ,GAAGJ,OAAO;MACvB,IAAI,CAACU,cAAc,CAAC,CAAC;IACvB,CAAC,CAAC;EACJ;EAEAA,cAAcA,CAAA,EAAG;IACf,IAAI,CAACC,KAAK,CAACC,UAAU,GAAG,IAAI,CAACR,QAAQ,GAAG,SAAS,GAAG,QAAQ;IAC5DR,eAAe,CAAC,IAAI,EAAE;MACpB,CAACE,aAAa,CAACC,UAAU,GAAG,CAAC,IAAI,CAACQ,oBAAoB;MACtD,CAAC,IAAI,CAACF,aAAa,GAAG,IAAI,CAACD,QAAQ;MACnC,CAAC,IAAI,CAACE,YAAY,GAAG,CAAC,IAAI,CAACF;IAC7B,CAAC,CAAC;IACF,IAAI,CAACS,YAAY,CAAC,aAAa,EAAE,IAAI,CAACT,QAAQ,GAAG,OAAO,GAAG,MAAM,CAAC;EACpE;EAEAU,YAAYA,CAAA,EAAG;IACb,KAAK,CAACA,YAAY,CAAC,CAAC;IACpB,IAAI,CAACD,YAAY,CAAC,QAAQ,EAAE,EAAE,CAAC;IAE/B,IAAI,CAAC,IAAI,CAACN,oBAAoB,EAAE;MAC9B,IAAI,CAACQ,SAAS,CAACC,GAAG,CAAClB,aAAa,CAACC,UAAU,CAAC;IAC9C;IAEA,IAAI,CAACW,cAAc,CAAC,CAAC;IACrBO,UAAU,CAAC,MAAM,IAAI,CAACC,eAAe,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;EACrD;AACF;AACAhB,cAAc,CAACiB,QAAQ,GAAG,UAAY,iBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
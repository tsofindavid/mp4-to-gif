{"ast":null,"code":"import { throwError } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nfunction SingleFileUploadComponent_div_3_p_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"p\");\n    i0.…µ…µtext(1, \"\\u23F3 Uploading...\");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction SingleFileUploadComponent_div_3_p_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"p\");\n    i0.…µ…µtext(1, \"\\u2705 Done!\");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction SingleFileUploadComponent_div_3_p_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"p\");\n    i0.…µ…µtext(1, \"\\u274C Error!\");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction SingleFileUploadComponent_div_3_p_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"p\");\n    i0.…µ…µtext(1, \"\\uD83D\\uDE36 Waiting to upload...\");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction SingleFileUploadComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 2)(1, \"section\");\n    i0.…µ…µtext(2, \" File details: \");\n    i0.…µ…µelementStart(3, \"ul\")(4, \"li\");\n    i0.…µ…µtext(5);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(6, \"li\");\n    i0.…µ…µtext(7);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(8, \"li\");\n    i0.…µ…µtext(9);\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µelementStart(10, \"button\", 3);\n    i0.…µ…µlistener(\"click\", function SingleFileUploadComponent_div_3_Template_button_click_10_listener() {\n      i0.…µ…µrestoreView(_r6);\n      const ctx_r5 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r5.onUpload());\n    });\n    i0.…µ…µtext(11, \"Upload the file\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(12, \"section\", 4);\n    i0.…µ…µtemplate(13, SingleFileUploadComponent_div_3_p_13_Template, 2, 0, \"p\", 5);\n    i0.…µ…µtemplate(14, SingleFileUploadComponent_div_3_p_14_Template, 2, 0, \"p\", 5);\n    i0.…µ…µtemplate(15, SingleFileUploadComponent_div_3_p_15_Template, 2, 0, \"p\", 5);\n    i0.…µ…µtemplate(16, SingleFileUploadComponent_div_3_p_16_Template, 2, 0, \"p\", 6);\n    i0.…µ…µelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(5);\n    i0.…µ…µtextInterpolate1(\"Name: \", ctx_r0.file.name, \"\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate1(\"Type: \", ctx_r0.file.type, \"\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate1(\"Size: \", ctx_r0.file.size, \" bytes\");\n    i0.…µ…µadvance(3);\n    i0.…µ…µproperty(\"ngSwitch\", ctx_r0.status);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngSwitchCase\", \"uploading\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngSwitchCase\", \"success\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngSwitchCase\", \"fail\");\n  }\n}\nexport class SingleFileUploadComponent {\n  constructor(http) {\n    this.http = http;\n    this.status = 'initial';\n    this.file = null;\n  }\n  ngOnInit() {}\n  onChange(event) {\n    const file = event.target.files[0];\n    if (file) {\n      this.status = 'initial';\n      this.file = file;\n    }\n  }\n  onUpload() {\n    if (this.file) {\n      const formData = new FormData();\n      formData.append('file', this.file, this.file.name);\n      const upload$ = this.http.post('https://httpbin.org/post', formData);\n      this.status = 'uploading';\n      upload$.subscribe({\n        next: () => {\n          this.status = 'success';\n        },\n        error: error => {\n          this.status = 'fail';\n          return throwError(() => error);\n        }\n      });\n    }\n  }\n  static #_ = this.…µfac = function SingleFileUploadComponent_Factory(t) {\n    return new (t || SingleFileUploadComponent)(i0.…µ…µdirectiveInject(i1.HttpClient));\n  };\n  static #_2 = this.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n    type: SingleFileUploadComponent,\n    selectors: [[\"app-single-file-upload\"]],\n    decls: 4,\n    vars: 1,\n    consts: [[\"type\", \"file\", 1, \"file-input\", 3, \"change\"], [\"class\", \"file-section\", 4, \"ngIf\"], [1, \"file-section\"], [1, \"upload-button\", 3, \"click\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [4, \"ngSwitchDefault\"]],\n    template: function SingleFileUploadComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.…µ…µelementStart(0, \"h2\");\n        i0.…µ…µtext(1, \"Single File Upload\");\n        i0.…µ…µelementEnd();\n        i0.…µ…µelementStart(2, \"input\", 0);\n        i0.…µ…µlistener(\"change\", function SingleFileUploadComponent_Template_input_change_2_listener($event) {\n          return ctx.onChange($event);\n        });\n        i0.…µ…µelementEnd();\n        i0.…µ…µtemplate(3, SingleFileUploadComponent_div_3_Template, 17, 7, \"div\", 1);\n      }\n      if (rf & 2) {\n        i0.…µ…µadvance(3);\n        i0.…µ…µproperty(\"ngIf\", ctx.file);\n      }\n    },\n    dependencies: [i2.NgIf, i2.NgSwitch, i2.NgSwitchCase, i2.NgSwitchDefault],\n    styles: [\".file-section[_ngcontent-%COMP%] {\\n  margin-top: 0.5rem;\\n}\\n\\n.upload-button[_ngcontent-%COMP%] {\\n  padding: 0.5rem 1rem;\\n  background-color: #1976d2;\\n  color: #fff;\\n  border: none;\\n  border-radius: 0.2rem;\\n}\\n\\n.upload-button[_ngcontent-%COMP%]:hover {\\n  background-color: #115293;\\n  cursor: pointer;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2luZ2xlLWZpbGUtdXBsb2FkL3NpbmdsZS1maWxlLXVwbG9hZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0Usb0JBQW9CO0VBQ3BCLHlCQUF5QjtFQUN6QixXQUFXO0VBQ1gsWUFBWTtFQUNaLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixlQUFlO0FBQ2pCIiwic291cmNlc0NvbnRlbnQiOlsiLmZpbGUtc2VjdGlvbiB7XG4gIG1hcmdpbi10b3A6IDAuNXJlbTtcbn1cblxuLnVwbG9hZC1idXR0b24ge1xuICBwYWRkaW5nOiAwLjVyZW0gMXJlbTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzE5NzZkMjtcbiAgY29sb3I6ICNmZmY7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogMC4ycmVtO1xufVxuXG4udXBsb2FkLWJ1dHRvbjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMxMTUyOTM7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["throwError","i0","…µ…µelementStart","…µ…µtext","…µ…µelementEnd","…µ…µlistener","SingleFileUploadComponent_div_3_Template_button_click_10_listener","…µ…µrestoreView","_r6","ctx_r5","…µ…µnextContext","…µ…µresetView","onUpload","…µ…µtemplate","SingleFileUploadComponent_div_3_p_13_Template","SingleFileUploadComponent_div_3_p_14_Template","SingleFileUploadComponent_div_3_p_15_Template","SingleFileUploadComponent_div_3_p_16_Template","…µ…µadvance","…µ…µtextInterpolate1","ctx_r0","file","name","type","size","…µ…µproperty","status","SingleFileUploadComponent","constructor","http","ngOnInit","onChange","event","target","files","formData","FormData","append","upload$","post","subscribe","next","error","_","…µ…µdirectiveInject","i1","HttpClient","_2","selectors","decls","vars","consts","template","SingleFileUploadComponent_Template","rf","ctx","SingleFileUploadComponent_Template_input_change_2_listener","$event","SingleFileUploadComponent_div_3_Template"],"sources":["/Users/David/Documents/own_projects/mp4-to-gif/packages/client/src/app/single-file-upload/single-file-upload.component.ts","/Users/David/Documents/own_projects/mp4-to-gif/packages/client/src/app/single-file-upload/single-file-upload.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { throwError } from 'rxjs';\n\n@Component({\n  selector: 'app-single-file-upload',\n  templateUrl: './single-file-upload.component.html',\n  styleUrls: ['./single-file-upload.component.css'],\n})\nexport class SingleFileUploadComponent {\n  status: 'initial' | 'uploading' | 'success' | 'fail' = 'initial';\n  file: File | null = null;\n\n  constructor(private http: HttpClient) {}\n\n  ngOnInit(): void {}\n\n  onChange(event: any) {\n    const file: File = event.target.files[0];\n\n    if (file) {\n      this.status = 'initial';\n      this.file = file;\n    }\n  }\n\n  onUpload() {\n    if (this.file) {\n      const formData = new FormData();\n\n      formData.append('file', this.file, this.file.name);\n\n      const upload$ = this.http.post('https://httpbin.org/post', formData);\n\n      this.status = 'uploading';\n\n      upload$.subscribe({\n        next: () => {\n          this.status = 'success';\n        },\n        error: (error: any) => {\n          this.status = 'fail';\n          return throwError(() => error);\n        },\n      });\n    }\n  }\n}\n","<h2>Single File Upload</h2>\n\n<input type=\"file\" class=\"file-input\" (change)=\"onChange($event)\">\n\n<div *ngIf=\"file\" class=\"file-section\">\n  <section>\n    File details:\n    <ul>\n      <li>Name: {{file.name}}</li>\n      <li>Type: {{file.type}}</li>\n      <li>Size: {{file.size}} bytes</li>\n    </ul>\n  </section>\n\n  <button (click)=\"onUpload()\" class=\"upload-button\">Upload the file</button>\n\n  <section [ngSwitch]=\"status\">\n    <p *ngSwitchCase=\"'uploading'\">‚è≥ Uploading...</p>\n    <p *ngSwitchCase=\"'success'\">‚úÖ Done!</p>\n    <p *ngSwitchCase=\"'fail'\">‚ùå Error!</p>\n    <p *ngSwitchDefault>üò∂ Waiting to upload...</p>\n  </section>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
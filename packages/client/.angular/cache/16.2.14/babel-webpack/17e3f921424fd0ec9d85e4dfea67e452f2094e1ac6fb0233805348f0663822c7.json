{"ast":null,"code":"import { Block } from '../../abstract/Block.js';\nimport { create } from '@symbiotejs/symbiote';\nimport { stringToArray } from '../../utils/stringToArray.js';\nexport class Tabs extends Block {\n  /** @param {String} tabL10nStr */\n  setCurrentTab(tabL10nStr) {\n    if (!tabL10nStr) {\n      return;\n    }\n    let ctxList = [...this.ref.context.querySelectorAll('[tab-ctx]')];\n    ctxList.forEach(ctxEl => {\n      if (ctxEl.getAttribute('tab-ctx') === tabL10nStr) {\n        ctxEl.removeAttribute('hidden');\n      } else {\n        ctxEl.setAttribute('hidden', '');\n      }\n    });\n    for (let lStr in this._tabMap) {\n      if (lStr === tabL10nStr) {\n        this._tabMap[lStr].setAttribute('current', '');\n      } else {\n        this._tabMap[lStr].removeAttribute('current');\n      }\n    }\n  }\n  initCallback() {\n    super.initCallback();\n    /**\n     * @private\n     * @type {Object<string, HTMLElement>}\n     */\n    this._tabMap = {};\n    this.defineAccessor('tab-list', ( /** @type {String} */val) => {\n      if (!val) {\n        return;\n      }\n      let tabList = stringToArray(val);\n      tabList.forEach(tabL10nStr => {\n        let tabEl = create({\n          tag: 'div',\n          attributes: {\n            class: 'tab'\n          },\n          properties: {\n            onclick: () => {\n              this.setCurrentTab(tabL10nStr);\n            }\n          }\n        });\n        tabEl.textContent = this.l10n(tabL10nStr);\n        this.ref.row.appendChild(tabEl);\n        this._tabMap[tabL10nStr] = tabEl;\n      });\n    });\n    this.defineAccessor('default', val => {\n      this.setCurrentTab(val);\n    });\n    if (!this.hasAttribute('default')) {\n      this.setCurrentTab(Object.keys(this._tabMap)[0]);\n    }\n  }\n}\nTabs.bindAttributes({\n  'tab-list': null,\n  default: null\n});\nTabs.template = /* HTML */`\n  <div ref=\"row\" class=\"tabs-row\"></div>\n  <div ref=\"context\" class=\"tabs-context\">\n    <slot></slot>\n  </div>\n`;","map":{"version":3,"names":["Block","create","stringToArray","Tabs","setCurrentTab","tabL10nStr","ctxList","ref","context","querySelectorAll","forEach","ctxEl","getAttribute","removeAttribute","setAttribute","lStr","_tabMap","initCallback","defineAccessor","val","tabList","tabEl","tag","attributes","class","properties","onclick","textContent","l10n","row","appendChild","hasAttribute","Object","keys","bindAttributes","default","template"],"sources":["/Users/David/Documents/own_projects/mp4-to-gif/node_modules/@uploadcare/blocks/blocks/Tabs/Tabs.js"],"sourcesContent":["import { Block } from '../../abstract/Block.js';\nimport { create } from '@symbiotejs/symbiote';\nimport { stringToArray } from '../../utils/stringToArray.js';\n\nexport class Tabs extends Block {\n  /** @param {String} tabL10nStr */\n  setCurrentTab(tabL10nStr) {\n    if (!tabL10nStr) {\n      return;\n    }\n    let ctxList = [...this.ref.context.querySelectorAll('[tab-ctx]')];\n    ctxList.forEach((ctxEl) => {\n      if (ctxEl.getAttribute('tab-ctx') === tabL10nStr) {\n        ctxEl.removeAttribute('hidden');\n      } else {\n        ctxEl.setAttribute('hidden', '');\n      }\n    });\n    for (let lStr in this._tabMap) {\n      if (lStr === tabL10nStr) {\n        this._tabMap[lStr].setAttribute('current', '');\n      } else {\n        this._tabMap[lStr].removeAttribute('current');\n      }\n    }\n  }\n\n  initCallback() {\n    super.initCallback();\n    /**\n     * @private\n     * @type {Object<string, HTMLElement>}\n     */\n    this._tabMap = {};\n    this.defineAccessor('tab-list', (/** @type {String} */ val) => {\n      if (!val) {\n        return;\n      }\n      let tabList = stringToArray(val);\n      tabList.forEach((tabL10nStr) => {\n        let tabEl = create({\n          tag: 'div',\n          attributes: {\n            class: 'tab',\n          },\n          properties: {\n            onclick: () => {\n              this.setCurrentTab(tabL10nStr);\n            },\n          },\n        });\n        tabEl.textContent = this.l10n(tabL10nStr);\n        this.ref.row.appendChild(tabEl);\n        this._tabMap[tabL10nStr] = tabEl;\n      });\n    });\n\n    this.defineAccessor('default', (val) => {\n      this.setCurrentTab(val);\n    });\n\n    if (!this.hasAttribute('default')) {\n      this.setCurrentTab(Object.keys(this._tabMap)[0]);\n    }\n  }\n}\n\nTabs.bindAttributes({\n  'tab-list': null,\n  default: null,\n});\n\nTabs.template = /* HTML */ `\n  <div ref=\"row\" class=\"tabs-row\"></div>\n  <div ref=\"context\" class=\"tabs-context\">\n    <slot></slot>\n  </div>\n`;\n"],"mappings":"AAAA,SAASA,KAAK,QAAQ,yBAAyB;AAC/C,SAASC,MAAM,QAAQ,sBAAsB;AAC7C,SAASC,aAAa,QAAQ,8BAA8B;AAE5D,OAAO,MAAMC,IAAI,SAASH,KAAK,CAAC;EAC9B;EACAI,aAAaA,CAACC,UAAU,EAAE;IACxB,IAAI,CAACA,UAAU,EAAE;MACf;IACF;IACA,IAAIC,OAAO,GAAG,CAAC,GAAG,IAAI,CAACC,GAAG,CAACC,OAAO,CAACC,gBAAgB,CAAC,WAAW,CAAC,CAAC;IACjEH,OAAO,CAACI,OAAO,CAAEC,KAAK,IAAK;MACzB,IAAIA,KAAK,CAACC,YAAY,CAAC,SAAS,CAAC,KAAKP,UAAU,EAAE;QAChDM,KAAK,CAACE,eAAe,CAAC,QAAQ,CAAC;MACjC,CAAC,MAAM;QACLF,KAAK,CAACG,YAAY,CAAC,QAAQ,EAAE,EAAE,CAAC;MAClC;IACF,CAAC,CAAC;IACF,KAAK,IAAIC,IAAI,IAAI,IAAI,CAACC,OAAO,EAAE;MAC7B,IAAID,IAAI,KAAKV,UAAU,EAAE;QACvB,IAAI,CAACW,OAAO,CAACD,IAAI,CAAC,CAACD,YAAY,CAAC,SAAS,EAAE,EAAE,CAAC;MAChD,CAAC,MAAM;QACL,IAAI,CAACE,OAAO,CAACD,IAAI,CAAC,CAACF,eAAe,CAAC,SAAS,CAAC;MAC/C;IACF;EACF;EAEAI,YAAYA,CAAA,EAAG;IACb,KAAK,CAACA,YAAY,CAAC,CAAC;IACpB;AACJ;AACA;AACA;IACI,IAAI,CAACD,OAAO,GAAG,CAAC,CAAC;IACjB,IAAI,CAACE,cAAc,CAAC,UAAU,EAAE,EAAC,qBAAsBC,GAAG,KAAK;MAC7D,IAAI,CAACA,GAAG,EAAE;QACR;MACF;MACA,IAAIC,OAAO,GAAGlB,aAAa,CAACiB,GAAG,CAAC;MAChCC,OAAO,CAACV,OAAO,CAAEL,UAAU,IAAK;QAC9B,IAAIgB,KAAK,GAAGpB,MAAM,CAAC;UACjBqB,GAAG,EAAE,KAAK;UACVC,UAAU,EAAE;YACVC,KAAK,EAAE;UACT,CAAC;UACDC,UAAU,EAAE;YACVC,OAAO,EAAEA,CAAA,KAAM;cACb,IAAI,CAACtB,aAAa,CAACC,UAAU,CAAC;YAChC;UACF;QACF,CAAC,CAAC;QACFgB,KAAK,CAACM,WAAW,GAAG,IAAI,CAACC,IAAI,CAACvB,UAAU,CAAC;QACzC,IAAI,CAACE,GAAG,CAACsB,GAAG,CAACC,WAAW,CAACT,KAAK,CAAC;QAC/B,IAAI,CAACL,OAAO,CAACX,UAAU,CAAC,GAAGgB,KAAK;MAClC,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,IAAI,CAACH,cAAc,CAAC,SAAS,EAAGC,GAAG,IAAK;MACtC,IAAI,CAACf,aAAa,CAACe,GAAG,CAAC;IACzB,CAAC,CAAC;IAEF,IAAI,CAAC,IAAI,CAACY,YAAY,CAAC,SAAS,CAAC,EAAE;MACjC,IAAI,CAAC3B,aAAa,CAAC4B,MAAM,CAACC,IAAI,CAAC,IAAI,CAACjB,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IAClD;EACF;AACF;AAEAb,IAAI,CAAC+B,cAAc,CAAC;EAClB,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE;AACX,CAAC,CAAC;AAEFhC,IAAI,CAACiC,QAAQ,GAAG,UAAY;AAC5B;AACA;AACA;AACA;AACA,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
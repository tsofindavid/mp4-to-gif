{"ast":null,"code":"import { Block } from '../../abstract/Block.js';\nimport { checkerboardCssBg } from '../svg-backgrounds/svg-backgrounds.js';\nimport { TRANSPARENT_PIXEL_SRC } from '../../utils/transparentPixelSrc.js';\nexport class FilePreview extends Block {\n  init$ = {\n    ...this.init$,\n    checkerboard: false,\n    src: TRANSPARENT_PIXEL_SRC\n  };\n  constructor() {\n    super();\n  }\n  initCallback() {\n    super.initCallback();\n    this.sub('checkerboard', () => {\n      this.style.backgroundImage = this.hasAttribute('checkerboard') ? `url(${checkerboardCssBg()})` : 'unset';\n    });\n  }\n  destroyCallback() {\n    super.destroyCallback();\n    URL.revokeObjectURL(this._lastObjectUrl);\n  }\n\n  /** @param {HTMLImageElement} img */\n  setImage(img) {\n    this.$.src = img.src;\n  }\n\n  /** @param {File} imgFile */\n  setImageFile(imgFile) {\n    let url = URL.createObjectURL(imgFile);\n    this.$.src = url;\n    this._lastObjectUrl = url;\n  }\n\n  /** @param {String} url */\n  setImageUrl(url) {\n    this.$.src = url;\n  }\n  clear() {\n    URL.revokeObjectURL(this._lastObjectUrl);\n    this.$.src = TRANSPARENT_PIXEL_SRC;\n  }\n}\nFilePreview.template = /* HTML */` <lr-img class=\"img-view\" ref=\"img\" set=\"@src: src; style.aa: src;\" /> `;\nFilePreview.bindAttributes({\n  checkerboard: 'checkerboard'\n});","map":{"version":3,"names":["Block","checkerboardCssBg","TRANSPARENT_PIXEL_SRC","FilePreview","init$","checkerboard","src","constructor","initCallback","sub","style","backgroundImage","hasAttribute","destroyCallback","URL","revokeObjectURL","_lastObjectUrl","setImage","img","$","setImageFile","imgFile","url","createObjectURL","setImageUrl","clear","template","bindAttributes"],"sources":["/Users/David/Documents/own_projects/mp4-to-gif/node_modules/@uploadcare/blocks/blocks/FilePreview/FilePreview.js"],"sourcesContent":["import { Block } from '../../abstract/Block.js';\nimport { checkerboardCssBg } from '../svg-backgrounds/svg-backgrounds.js';\nimport { TRANSPARENT_PIXEL_SRC } from '../../utils/transparentPixelSrc.js';\n\nexport class FilePreview extends Block {\n  init$ = {\n    ...this.init$,\n    checkerboard: false,\n    src: TRANSPARENT_PIXEL_SRC,\n  };\n\n  constructor() {\n    super();\n  }\n\n  initCallback() {\n    super.initCallback();\n    this.sub('checkerboard', () => {\n      this.style.backgroundImage = this.hasAttribute('checkerboard') ? `url(${checkerboardCssBg()})` : 'unset';\n    });\n  }\n\n  destroyCallback() {\n    super.destroyCallback();\n    URL.revokeObjectURL(this._lastObjectUrl);\n  }\n\n  /** @param {HTMLImageElement} img */\n  setImage(img) {\n    this.$.src = img.src;\n  }\n\n  /** @param {File} imgFile */\n  setImageFile(imgFile) {\n    let url = URL.createObjectURL(imgFile);\n    this.$.src = url;\n    this._lastObjectUrl = url;\n  }\n\n  /** @param {String} url */\n  setImageUrl(url) {\n    this.$.src = url;\n  }\n\n  clear() {\n    URL.revokeObjectURL(this._lastObjectUrl);\n    this.$.src = TRANSPARENT_PIXEL_SRC;\n  }\n}\n\nFilePreview.template = /* HTML */ ` <lr-img class=\"img-view\" ref=\"img\" set=\"@src: src; style.aa: src;\" /> `;\n\nFilePreview.bindAttributes({\n  checkerboard: 'checkerboard',\n});\n"],"mappings":"AAAA,SAASA,KAAK,QAAQ,yBAAyB;AAC/C,SAASC,iBAAiB,QAAQ,uCAAuC;AACzE,SAASC,qBAAqB,QAAQ,oCAAoC;AAE1E,OAAO,MAAMC,WAAW,SAASH,KAAK,CAAC;EACrCI,KAAK,GAAG;IACN,GAAG,IAAI,CAACA,KAAK;IACbC,YAAY,EAAE,KAAK;IACnBC,GAAG,EAAEJ;EACP,CAAC;EAEDK,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,CAAC;EACT;EAEAC,YAAYA,CAAA,EAAG;IACb,KAAK,CAACA,YAAY,CAAC,CAAC;IACpB,IAAI,CAACC,GAAG,CAAC,cAAc,EAAE,MAAM;MAC7B,IAAI,CAACC,KAAK,CAACC,eAAe,GAAG,IAAI,CAACC,YAAY,CAAC,cAAc,CAAC,GAAI,OAAMX,iBAAiB,CAAC,CAAE,GAAE,GAAG,OAAO;IAC1G,CAAC,CAAC;EACJ;EAEAY,eAAeA,CAAA,EAAG;IAChB,KAAK,CAACA,eAAe,CAAC,CAAC;IACvBC,GAAG,CAACC,eAAe,CAAC,IAAI,CAACC,cAAc,CAAC;EAC1C;;EAEA;EACAC,QAAQA,CAACC,GAAG,EAAE;IACZ,IAAI,CAACC,CAAC,CAACb,GAAG,GAAGY,GAAG,CAACZ,GAAG;EACtB;;EAEA;EACAc,YAAYA,CAACC,OAAO,EAAE;IACpB,IAAIC,GAAG,GAAGR,GAAG,CAACS,eAAe,CAACF,OAAO,CAAC;IACtC,IAAI,CAACF,CAAC,CAACb,GAAG,GAAGgB,GAAG;IAChB,IAAI,CAACN,cAAc,GAAGM,GAAG;EAC3B;;EAEA;EACAE,WAAWA,CAACF,GAAG,EAAE;IACf,IAAI,CAACH,CAAC,CAACb,GAAG,GAAGgB,GAAG;EAClB;EAEAG,KAAKA,CAAA,EAAG;IACNX,GAAG,CAACC,eAAe,CAAC,IAAI,CAACC,cAAc,CAAC;IACxC,IAAI,CAACG,CAAC,CAACb,GAAG,GAAGJ,qBAAqB;EACpC;AACF;AAEAC,WAAW,CAACuB,QAAQ,GAAG,UAAY,yEAAwE;AAE3GvB,WAAW,CAACwB,cAAc,CAAC;EACzBtB,YAAY,EAAE;AAChB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
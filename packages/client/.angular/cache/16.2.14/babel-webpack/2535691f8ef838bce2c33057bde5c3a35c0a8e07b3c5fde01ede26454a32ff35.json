{"ast":null,"code":"/**\n * @template {import('./Block.js').Block} T\n * @param {DocumentFragment} fr\n * @param {T} fnCtx\n */\nexport function l10nProcessor(fr, fnCtx) {\n  [...fr.querySelectorAll('[l10n]')].forEach(el => {\n    let key = el.getAttribute('l10n');\n    let elProp = 'textContent';\n    if (key.includes(':')) {\n      let arr = key.split(':');\n      elProp = arr[0];\n      key = arr[1];\n    }\n    let ctxKey = 'l10n:' + key;\n    // @ts-ignore\n    fnCtx.__l10nKeys.push(ctxKey);\n    fnCtx.add(ctxKey, key);\n    fnCtx.sub(ctxKey, val => {\n      el[elProp] = fnCtx.l10n(val);\n    });\n    el.removeAttribute('l10n');\n  });\n}","map":{"version":3,"names":["l10nProcessor","fr","fnCtx","querySelectorAll","forEach","el","key","getAttribute","elProp","includes","arr","split","ctxKey","__l10nKeys","push","add","sub","val","l10n","removeAttribute"],"sources":["/Users/David/Documents/own_projects/mp4-to-gif/node_modules/@uploadcare/blocks/abstract/l10nProcessor.js"],"sourcesContent":["/**\n * @template {import('./Block.js').Block} T\n * @param {DocumentFragment} fr\n * @param {T} fnCtx\n */\nexport function l10nProcessor(fr, fnCtx) {\n  [...fr.querySelectorAll('[l10n]')].forEach((el) => {\n    let key = el.getAttribute('l10n');\n    let elProp = 'textContent';\n    if (key.includes(':')) {\n      let arr = key.split(':');\n      elProp = arr[0];\n      key = arr[1];\n    }\n    let ctxKey = 'l10n:' + key;\n    // @ts-ignore\n    fnCtx.__l10nKeys.push(ctxKey);\n    fnCtx.add(ctxKey, key);\n    fnCtx.sub(ctxKey, (val) => {\n      el[elProp] = fnCtx.l10n(val);\n    });\n    el.removeAttribute('l10n');\n  });\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,aAAaA,CAACC,EAAE,EAAEC,KAAK,EAAE;EACvC,CAAC,GAAGD,EAAE,CAACE,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAACC,OAAO,CAAEC,EAAE,IAAK;IACjD,IAAIC,GAAG,GAAGD,EAAE,CAACE,YAAY,CAAC,MAAM,CAAC;IACjC,IAAIC,MAAM,GAAG,aAAa;IAC1B,IAAIF,GAAG,CAACG,QAAQ,CAAC,GAAG,CAAC,EAAE;MACrB,IAAIC,GAAG,GAAGJ,GAAG,CAACK,KAAK,CAAC,GAAG,CAAC;MACxBH,MAAM,GAAGE,GAAG,CAAC,CAAC,CAAC;MACfJ,GAAG,GAAGI,GAAG,CAAC,CAAC,CAAC;IACd;IACA,IAAIE,MAAM,GAAG,OAAO,GAAGN,GAAG;IAC1B;IACAJ,KAAK,CAACW,UAAU,CAACC,IAAI,CAACF,MAAM,CAAC;IAC7BV,KAAK,CAACa,GAAG,CAACH,MAAM,EAAEN,GAAG,CAAC;IACtBJ,KAAK,CAACc,GAAG,CAACJ,MAAM,EAAGK,GAAG,IAAK;MACzBZ,EAAE,CAACG,MAAM,CAAC,GAAGN,KAAK,CAACgB,IAAI,CAACD,GAAG,CAAC;IAC9B,CAAC,CAAC;IACFZ,EAAE,CAACc,eAAe,CAAC,MAAM,CAAC;EAC5B,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
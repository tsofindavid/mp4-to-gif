{"ast":null,"code":"// @ts-check\nimport { Block } from '../../abstract/Block.js';\nexport class Modal extends Block {\n  static StateConsumerScope = 'modal';\n  _handleBackdropClick = () => {\n    this._closeDialog();\n  };\n  _closeDialog = () => {\n    this.setForCtxTarget(Modal.StateConsumerScope, '*modalActive', false);\n  };\n  _handleDialogClose = () => {\n    this._closeDialog();\n  };\n\n  /** @param {Event} e */\n  _handleDialogClick = e => {\n    if (e.target === this.ref.dialog) {\n      this._closeDialog();\n    }\n  };\n\n  // @ts-ignore TODO: fix this\n  init$ = {\n    ...this.init$,\n    '*modalActive': false,\n    isOpen: false,\n    closeClicked: this._handleDialogClose\n  };\n\n  // @ts-ignore TODO: fix this\n  cssInit$ = {\n    ...this.cssInit$,\n    '--cfg-modal-backdrop-strokes': 0\n  };\n  show() {\n    if (this.ref.dialog.showModal) {\n      this.ref.dialog.showModal();\n    } else {\n      this.ref.dialog.setAttribute('open', '');\n    }\n  }\n  hide() {\n    if (this.ref.dialog.close) {\n      this.ref.dialog.close();\n    } else {\n      this.ref.dialog.removeAttribute('open');\n    }\n  }\n  initCallback() {\n    super.initCallback();\n    if (typeof HTMLDialogElement === 'function') {\n      this.ref.dialog.addEventListener('close', this._handleDialogClose);\n      this.ref.dialog.addEventListener('click', this._handleDialogClick);\n    } else {\n      this.setAttribute('dialog-fallback', '');\n      let backdrop = document.createElement('div');\n      backdrop.className = 'backdrop';\n      this.appendChild(backdrop);\n      backdrop.addEventListener('click', this._handleBackdropClick);\n    }\n    this.sub('*modalActive', modalActive => {\n      if (this.$.isOpen !== modalActive) {\n        this.$.isOpen = modalActive;\n      }\n      if (modalActive && this.getCssData('--cfg-modal-scroll-lock')) {\n        document.body.style.overflow = 'hidden';\n      } else {\n        document.body.style.overflow = '';\n      }\n    });\n    this.sub('--cfg-modal-backdrop-strokes', val => {\n      if (val) {\n        this.setAttribute('strokes', '');\n      } else {\n        this.removeAttribute('strokes');\n      }\n    });\n    this.sub('isOpen', isOpen => {\n      if (isOpen) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    });\n  }\n  destroyCallback() {\n    super.destroyCallback();\n    document.body.style.overflow = '';\n    this.ref.dialog.removeEventListener('close', this._handleDialogClose);\n    this.ref.dialog.removeEventListener('click', this._handleDialogClick);\n  }\n}\nModal.template = /* HTML */`\n  <dialog ref=\"dialog\">\n    <slot></slot>\n  </dialog>\n`;","map":{"version":3,"names":["Block","Modal","StateConsumerScope","_handleBackdropClick","_closeDialog","setForCtxTarget","_handleDialogClose","_handleDialogClick","e","target","ref","dialog","init$","isOpen","closeClicked","cssInit$","show","showModal","setAttribute","hide","close","removeAttribute","initCallback","HTMLDialogElement","addEventListener","backdrop","document","createElement","className","appendChild","sub","modalActive","$","getCssData","body","style","overflow","val","destroyCallback","removeEventListener","template"],"sources":["/Users/David/Documents/own_projects/mp4-to-gif/node_modules/@uploadcare/blocks/blocks/Modal/Modal.js"],"sourcesContent":["// @ts-check\nimport { Block } from '../../abstract/Block.js';\n\nexport class Modal extends Block {\n  static StateConsumerScope = 'modal';\n\n  _handleBackdropClick = () => {\n    this._closeDialog();\n  };\n\n  _closeDialog = () => {\n    this.setForCtxTarget(Modal.StateConsumerScope, '*modalActive', false);\n  };\n\n  _handleDialogClose = () => {\n    this._closeDialog();\n  };\n\n  /** @param {Event} e */\n  _handleDialogClick = (e) => {\n    if (e.target === this.ref.dialog) {\n      this._closeDialog();\n    }\n  };\n\n  // @ts-ignore TODO: fix this\n  init$ = {\n    ...this.init$,\n    '*modalActive': false,\n    isOpen: false,\n    closeClicked: this._handleDialogClose,\n  };\n\n  // @ts-ignore TODO: fix this\n  cssInit$ = {\n    ...this.cssInit$,\n    '--cfg-modal-backdrop-strokes': 0,\n  };\n\n  show() {\n    if (this.ref.dialog.showModal) {\n      this.ref.dialog.showModal();\n    } else {\n      this.ref.dialog.setAttribute('open', '');\n    }\n  }\n\n  hide() {\n    if (this.ref.dialog.close) {\n      this.ref.dialog.close();\n    } else {\n      this.ref.dialog.removeAttribute('open');\n    }\n  }\n\n  initCallback() {\n    super.initCallback();\n    if (typeof HTMLDialogElement === 'function') {\n      this.ref.dialog.addEventListener('close', this._handleDialogClose);\n      this.ref.dialog.addEventListener('click', this._handleDialogClick);\n    } else {\n      this.setAttribute('dialog-fallback', '');\n      let backdrop = document.createElement('div');\n      backdrop.className = 'backdrop';\n      this.appendChild(backdrop);\n      backdrop.addEventListener('click', this._handleBackdropClick);\n    }\n\n    this.sub('*modalActive', (modalActive) => {\n      if (this.$.isOpen !== modalActive) {\n        this.$.isOpen = modalActive;\n      }\n\n      if (modalActive && this.getCssData('--cfg-modal-scroll-lock')) {\n        document.body.style.overflow = 'hidden';\n      } else {\n        document.body.style.overflow = '';\n      }\n    });\n\n    this.sub('--cfg-modal-backdrop-strokes', (val) => {\n      if (val) {\n        this.setAttribute('strokes', '');\n      } else {\n        this.removeAttribute('strokes');\n      }\n    });\n\n    this.sub('isOpen', (isOpen) => {\n      if (isOpen) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    });\n  }\n\n  destroyCallback() {\n    super.destroyCallback();\n    document.body.style.overflow = '';\n    this.ref.dialog.removeEventListener('close', this._handleDialogClose);\n    this.ref.dialog.removeEventListener('click', this._handleDialogClick);\n  }\n}\n\nModal.template = /* HTML */ `\n  <dialog ref=\"dialog\">\n    <slot></slot>\n  </dialog>\n`;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}